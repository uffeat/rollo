<!--
/xpage.x.html

About
Demo of 'x'-assets as routes. 

Points
- Since 'x'-assets are functions, these can be registered as routes in a very lean way.
-->


<script type="module">
  const { component } = await use("@/component.js");
  const { layout } = await use("@/layout/");
  const { NavLink, router } = await use("@/router/");

  export default async function () {
   
    layout.clear();

    /* Define routes */
    router.routes.add({
      "/boom": (await use("/pages/boom.x.html"))(),
      "/pow": (await use("/pages/pow.x.html"))(),
    });

    /* Create nav */
    const nav = component.nav(
      "nav.d-flex.flex-column",
      { slot: "side", parent: layout },
      NavLink({ text: "Boom", path: "/boom" }),
      NavLink({ text: "Pow", path: "/pow" }),
      NavLink({ text: "Bad", path: "/bad" })
    );

    await router.setup();
  }
</script>
