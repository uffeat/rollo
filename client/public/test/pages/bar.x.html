<script type="module">
  const { component } = await use("@/component.js");
  const { layout } = await use("@/layout/");
  const { ref, reactive } = await use("@/state.js");

  const state = reactive();

  const page = component.main("container", component.h1({ text: "Bar" }));

  state.effects.add((change, message) => {});

  export default function () {
    return ({ change }) => {
      if (change) {
        layout.clear(":not([slot])");
        layout.append(page);
      }
    };
  }
</script>
